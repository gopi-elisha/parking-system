<html>

<head>
    <script src="https://code.jquery.com/jquery-4.0.0.js"
        integrity="sha256-9fsHeVnKBvqh3FB2HYu7g2xseAZ5MlN6Kz/qnkASV8U=" crossorigin="anonymous"></script>

    <style>
        .apparea {
            display: none;
        }

        .parking-section {
            float: left;
            width: 330px;
            height: 360px;
            padding: 20px;
            border: 2px solid black;
            margin: 10px;
            border-radius: 10px;
            margin-top: -5px;
            text-align: center;
        }

        .slotavailable {
            width: 300px;
            height: 90px;
            border: 2px solid black;
            margin: 10px;
            border-radius: 10px;
            text-align: center;
            line-height: 90px;
            font-size: 20px;

        }

        .occupied {
            background-color: red;
        }

        .buttons button {
            background-color: #000000;
            color: #ffffff;
            border: 4px solid black;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            border-radius: 5px;
            margin: 10px;
        }

        .buttons button:hover {
            background-color: #ffffff;
            color: #000000;
        }

        .hidden {
            width: 800px;
            height: 400px;
            border: 2px solid black;
            margin: 20px auto;
            padding: 20px;
            border-radius: 10px;
        }

        #form {
            display: none;
        }

        #summaryTable {
            display: none;
            border: 2px solid black;
            width: 800px;
            border-collapse: collapse;


        }

        #summaryTable th,
        #summaryTable td {
            border: 2px solid black;
            padding: 10px 78px;
            text-align: center;

        }
    </style>
</head>

<body>

    <div id="login">
        <center>
            <h1>Parking Management System</h1>

            <div class="box">
                <div id="login">
                    <label>Enter Username</label>
                    <input id="username" type='text' placeholder='Enter Username'>
                    <label>Enter Password</label>
                    <input id="password" type='text' placeholder='Enter Password'>
                    <button onclick="login()">Login</button>
                </div>
            </div>
        </center>
    </div>
    <div class="apparea">
        <center>
            <div class="buttons">
                <button id="btn4w">4 wheeler</button>
                <button id="btn2w">2 wheeler</button>
                <button id="btnSummary">summary</button>
                <button id="btnLogout">logout</button>
            </div>
            <div id="form">
                <label>Enter Owner Name</label>
                <input id="owner" type='text' placeholder='Enter Owner Name'>
                <label>Enter Vehicle Number</label>
                <input id="vehicle" type='text' placeholder='Enter Vehicle Number'>
                <button onclick="submitEntry()">Submit</button>
            </div>
        </center>

        <div id="parkingArea" class="hidden">


            <div class="parking-section">
                <h3>4 Wheeler Parking</h3>
                <div id="slots4w">
                    <div id="slot1" class="slotavailable"></div>
                    <div id="slot2" class="slotavailable"></div>
                    <div id="slot3" class="slotavailable"></div>
                </div>
            </div>

            <div class="parking-section">
                <h3>2 Wheeler Parking</h3>
                <div id="slots2w">
                    <div id="slot4" class="slotavailable"></div>
                    <div id="slot5" class="slotavailable"></div>
                    <div id="slot6" class="slotavailable"></div>
                </div>
            </div>

        </div>

        <center>
            <table id="summaryTable">
                <tr>
                    <th>Owner</th>
                    <th>Vehicle</th>
                    <th>Type</th>
                    <th>Price</th>
                </tr>
            </table>
        </center>


    </div>

    <script>

        summary = [];
        maxSlots4w = 3;
        maxSlots2w = 3;
        type = "";
        occupied4w = 0;
        occupied2w = 0;

        function btn4w() {
            $("#form").show();
            type = "4W";
        }

        function btn2w() {
            $("#form").show();
            type = "2W";
        }

        function submitEntry() {

            if (type === "4W") price = 100;
            else if (type === "2W") price = 50;

            owner = $("#owner").val();
            vehicle = $("#vehicle").val();

            if (owner === "" || vehicle === "") {
                alert("Please enter owner name and vehicle number");
                return;
            }

            summary.push({ owner, vehicle, type, price });

            if (type === "4W") {

                if (occupied4w >= maxSlots4w) {
                    alert("4 Wheeler parking is full");
                    return;
                }

                for (i = 1; i <= 3; i++) {
                    const slot = $(`#slot${i}`);

                    if (!slot.hasClass("occupied")) {
                        slot.addClass("occupied");
                        slot.text(owner + " - " + vehicle);
                        occupied4w++;
                        break;
                    }
                }
            }

            if (type === "2W") {

                if (occupied2w >= maxSlots2w) {
                    alert("2 Wheeler parking is full");
                    return;
                }

                for (i = 4; i <= 6; i++) {
                    const slot = $(`#slot${i}`);

                    if (!slot.hasClass("occupied")) {
                        slot.addClass("occupied");
                        slot.text(owner + " - " + vehicle);
                        occupied2w++;
                        break;
                    }
                }
            }

            $("#form").hide();
        }

        function showSummary() {

            const table = $("#summaryTable");

            table.show();

            table.html(`
        <tr>
            <th>Owner</th>
            <th>Vehicle</th>
            <th>Type</th>
            <th>Price</th>
        </tr>
    `);

            summary.forEach(item => {
                table.append(`
            <tr>
                <td>${item.owner}</td>
                <td>${item.vehicle}</td>
                <td>${item.type}</td>
                <td>${item.price}</td>
            </tr>
        `);
            });
        }

        function removeSlot(slotId) {

            const slot = $("#" + slotId);

            if (!slot.hasClass("occupied")) return;

            slot.removeClass("occupied");
            slot.text("");

            if (slotId === "slot1" || slotId === "slot2" || slotId === "slot3")
                occupied4w--;
            else
                occupied2w--;
        }

        function login() {

            const username = $("#username").val();
            const password = $("#password").val();

            if (username === "gopi" && password === "2006") {

                $("#login").hide();
                $(".apparea").show();

            } else {
                alert("Invalid username or password");
            }
        }

        function logout() {
            $("#login").show();
            $(".apparea").hide();
            $("#form").hide();
            $("#summaryTable").hide();
        }

        $("#btn4w").click(() => {
            $("#form").show();
            type = "4W";
        });
        $("#btn2w").click(() => {
            $("#form").show();
            type = "2W";
        });
        $("#btnSummary").click(showSummary);
        $("#btnLogout").click(logout);

        $("#slot1").click(() => { removeSlot("slot1"); });
        $("#slot2").click(() => { removeSlot("slot2"); });
        $("#slot3").click(() => { removeSlot("slot3"); });
        $("#slot4").click(() => { removeSlot("slot4"); });
        $("#slot5").click(() => { removeSlot("slot5"); });
        $("#slot6").click(() => { removeSlot("slot6"); });




    </script>



</body>

</html>